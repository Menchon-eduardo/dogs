

<div  class="container">

    <h2>New PC</h2>
    
<!--Span for character creation-->
    <div class= "message success" *ngIf="status == 'success'">
        The character has been created successfully
    </div>
    <div class= "message failed" *ngIf="status == 'failed'">
        The character hasn't been created 
    </div>

<!--Name and description-->
    <form #PCForm="ngForm" >
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" name="name" #name="ngModel" [(ngModel)]="character.name"required/>
            <span class="form_error" *ngIf="name.touched && !name.valid">
                The character needs a name
            </span>
        </div>
        <div class="form-group">
            <label for="background">Write a background for your character</label>
            <textarea  name="background" class="form-control" #background="ngModel" [(ngModel)]="character.background"></textarea>
            
        </div>
        <div class="form-group">
            <label for="description">Describe your character</label>
            <textarea  name="description" class="form-control" #description="ngModel" [(ngModel)]="character.description"></textarea>
            
        </div>
        <div class="form-group">
            <label for="img">Image</label>
        </div>

        <!--Select background-->
        <div class="form-group">
            <label for="backgroundKind">Select your background</label>
            <br>
            <div class="btn-group">
                
                
                    <button class="btn btn-danger" (click)="getBackgroundKind('Balanced')">Balanced</button>
                    <button class="btn btn-danger" (click)="getBackgroundKind('Complicated story')">Complicated story</button>
                    <button class="btn btn-danger" (click)="getBackgroundKind('Relevant story')">Relevant story</button>
                    <button class="btn btn-danger" (click)="getBackgroundKind('Complicated community')">Complicated community</button>
                    <button class="btn btn-danger" (click)="getBackgroundKind('Strong community')">Strong community</button>
                
                
            </div>
    <!--Assign stats-->
            <div class="backgroundKindShow" *ngIf= "backgroundKind.stats >= 0">
                <p>
                    <div class="statsAssing">
                        <span *ngIf=" character.acuity + character.body + character.heart + character.will != backgroundKind.stats">
                            You have to assing {{backgroundKind.stats}}d6 for yours stats
                        </span>
                        <table class="table table-striped" id="tableStats">
                            <thead class="thead-dark">
                              <tr>
                                <th scope="col">Stat</th>
                                <th scope="col">Value</th>
                                <th scope="col">{{backgroundKind.stats-(character.acuity + character.body + character.heart + character.will)}}d6</th>
                         
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <th scope="row">Acuity</th>
                                <td><input type="Number"  name="statsAssing" [(ngModel)]="character.acuity">d6</td>
                                
                                
                              </tr>
                              <tr>
                                <th scope="row">Body</th>
                                <td><input type="Number"  name="statsAssing" [(ngModel)]="character.body">d6</td>
                              </tr>
                              <tr>
                                <th scope="row">Heart</th>
                                <td><input type="Number"  name="statsAssing" [(ngModel)]="character.heart">d6</td>
                                
                              </tr>
                              <tr>
                                <th scope="row">Will</th>
                                <td><input type="Number" name="statsAssing" [(ngModel)]="character.will">d6</td>
                                
                              </tr>
                            </tbody>
                          </table>

                      
                        <div class="alert alert-danger" role="alert" *ngIf=" character.acuity + character.body + character.heart + character.will == backgroundKind.stats">
                            That's OK!
                          </div>
                    </div>
                  
                    <br>
     <!--Traits-->
                    <strong>You have for your traits:</strong>
                    <h4 ><span class="badge badge-danger" id="badge-dice"> {{traits[0]}}d4</span>
                    <span  class="badge badge-danger" id="badge-dice"> {{traits[1]}}d6</span>
                    <span  class="badge badge-danger" id="badge-dice">{{traits[2]}}d8</span>
                    <span  class="badge badge-danger" id="badge-dice"> {{traits[3]}}d10</span></h4>
            

              <!--Write the trait-->     
                    <table class="table">
                        <thead class="thead-dark">
                          <tr>
                            <th scope="col">Name</th>
                            <th scope="col">Value</th>
                            <th scope="col">Dice</th>
                            <th scope="col"> </th>
                          </tr>
                        </thead>
                       <tbody>
                          <tr>
                            <th><input type="text" class="form-control" name="traitName" [(ngModel)]="trait1.name"></th>
                            <td><input type="number" class="form-control" name="traitNumber" [(ngModel)]="trait1.number"></td>
                            <td>d4 <input type="radio" value="d4" class="btn btn-danger rounded-circle"  name="traitDice1" [(ngModel)]='trait1.dice'>
                        d6 <input type="radio" value="d6" class="btn btn-danger rounded-circle"   name="traitDice1" [(ngModel)]='trait1.dice'>
                        d8 <input type="radio" value="d8" class="btn btn-danger rounded-circle"  name="traitDice1" [(ngModel)]='trait1.dice'>
                        d10 <input type="radio" value="d10" class="btn btn-danger rounded-circle"  name="traitDice1" [(ngModel)]='trait1.dice'>
                            </td>
                            
                          </tr>
                        </tbody>
                        <tbody>
                          <tr>
                            <th><input type="text" class="form-control" name="traitName" [(ngModel)]="trait2.name"></th>
                            <td><input type="number" class="form-control" name="traitNumber" [(ngModel)]="trait2.number"></td>
                            <td>d4 <input type="radio" value="d4" class="btn btn-danger rounded-circle"  name="traitDice2" [(ngModel)]='trait2.dice'>
                        d6 <input type="radio" value="d6" class="btn btn-danger rounded-circle"   name="traitDice2" [(ngModel)]='trait2.dice'>
                        d8 <input type="radio" value="d8" class="btn btn-danger rounded-circle" name="traitDice2" [(ngModel)]='trait2.dice'>
                        d10 <input type="radio" value="d10" class="btn btn-danger rounded-circle"  name="traitDice2" [(ngModel)]='trait2.dice'>
                            </td>
                            
                          </tr>
                        </tbody>
                        <tbody>
                          <tr>
                            <th><input type="text" class="form-control" name="traitName" [(ngModel)]="trait3.name"></th>
                            <td><input type="number" class="form-control" name="traitNumber" [(ngModel)]="trait3.number"></td>
                            <td>d4 <input type="radio" value="d4" class="btn btn-danger rounded-circle"  name="traitDice3" [(ngModel)]='trait3.dice'>
                        d6 <input type="radio" value="d6" class="btn btn-danger rounded-circle"   name="traitDice3" [(ngModel)]='trait3.dice'>
                        d8 <input type="radio" value="d8" class="btn btn-danger rounded-circle"  name="traitDice3" [(ngModel)]='trait3.dice'>
                        d10 <input type="radio" value="d10" class="btn btn-danger rounded-circle"  name="traitDice3" [(ngModel)]='trait3.dice'>
                            </td>
                            
                          </tr>
                        </tbody>
                        <tbody>
                          <tr>
                            <th><input type="text" class="form-control" name="traitName" [(ngModel)]="trait4.name"></th>
                            <td><input type="number" class="form-control" name="traitNumber" [(ngModel)]="trait4.number"></td>
                            <td>d4 <input type="radio" value="d4" class="btn btn-danger rounded-circle"  name="traitDice4" [(ngModel)]='trait4.dice'>
                        d6 <input type="radio" value="d6" class="btn btn-danger rounded-circle"   name="traitDice4" [(ngModel)]='trait4.dice'>
                        d8 <input type="radio" value="d8" class="btn btn-danger rounded-circle"  name="traitDice4" [(ngModel)]='trait4.dice'>
                        d10 <input type="radio" value="d10" class="btn btn-danger rounded-circle"  name="traitDice4" [(ngModel)]='trait4.dice'>
                            </td>
                            
                          </tr>
                        </tbody>
                        <tbody>
                          <tr>
                            <th><input type="text" class="form-control" name="traitName" [(ngModel)]="trait5.name"></th>
                            <td><input type="number" class="form-control" name="traitNumber" [(ngModel)]="trait5.number"></td>
                            <td>d4 <input type="radio" value="d4" class="btn btn-danger rounded-circle" name="traitDice5" [(ngModel)]='trait5.dice'>
                        d6 <input type="radio" value="d6" class="btn btn-danger rounded-circle"   name="traitDice5" [(ngModel)]='trait5.dice'>
                        d8 <input type="radio" value="d8" class="btn btn-danger rounded-circle"  name="traitDice5" [(ngModel)]='trait5.dice'>
                        d10 <input type="radio" value="d10" class="btn btn-danger rounded-circle"  name="traitDice5" [(ngModel)]='trait5.dice'>
                            </td>
                            
                          </tr>
                        </tbody>
                        
                      </table>
                       <button class="btn btn-danger" name="new-treat" (click)="createTrait()">Confirm traits</button>
                      
                       
                      <br>
                      <div class="list-group">
                        <div  class="list-group-item list-group-item-action" *ngFor="let trait of traitCharacter">
                          <div class="d-flex w-100 justify-content-between">
                            <h3 class="mb-1">{{trait.name}}: {{trait.number}}{{trait.dice}}</h3>
                          </div>
                         
                        </div>
              
                </div>
                    <!--<strong>And for your relationships:</strong>
                    <h4 ><span *ngIf = "relationships[0] > 0" class="badge badge-danger" id="badge-dice"> {{relationships[0]}}d4</span>
                        <span *ngIf = "relationships[1] > 0" class="badge badge-danger" id="badge-dice"> {{relationships[1]}}d6</span>
                        <span *ngIf = "relationships[2] > 0" class="badge badge-danger" id="badge-dice">{{relationships[2]}}d8</span>
                        <span *ngIf = "relationships[3] > 0" class="badge badge-danger" id="badge-dice"> {{relationships[3]}}d10</span></h4>
                         <table class="table">
                            <thead class="thead-dark">
                              <tr>
                                <th scope="col">Name</th>
                                <th scope="col">Value</th>
                                <th scope="col">Dice</th>
                                <th scope="col"> </th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr>
                                <th><input type="text" class="form-control" name="relationshipName" [(ngModel)]="relationship.name"></th>
                                <td><input type="number" class="form-control" name="relationshipNumber" [(ngModel)]="relationship.number"></td>
                               <td><select class="form-control">
                                    <option name="treat-dice" value="d4"  [(ngModel)]="relationship.dice">d4</option>
                                    <option  name="treat-dice" value="d6" [(ngModel)]="relationship.dice">d6</option>
                                    <option  name="treat-dice" value="d8" [(ngModel)]="relationship.dice">d8</option>
                                    <option  name="treat-dice" value="d10" [(ngModel)]="relationship.dice">d10</option>
                                  </select></td>
                                <td><button class="btn btn-danger" name="new-relationship" (clik)="newRelationship()">Add new relationship</button></td>
                              </tr>
                            
                            </tbody>
                          </table>    -->
                

            </div>
        <br> <br> <br>
            
        
        
            <input type="submit" value="Create" (ngSubmit)= "onSubmit(PCForm)" />

        </div>
    </form>
</div>
